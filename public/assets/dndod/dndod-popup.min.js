!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dndod=e():t.dndod=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){var n,o,i,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(r,a){"object"===s(e)&&"object"===s(t)?t.exports=a():(o=[],n=a,void 0!==(i="function"==typeof n?n.apply(e,o):n)&&(t.exports=i))}(0,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=Object.freeze({prefixClass:"dndod",title:"",msg:"",textAlign:"center",animation:"from-top",animationDuration:250,disableCloseBtn:!1,disableOutline:!1,enableHTML:!1,events:{create:null,mount:null,close:null,unmount:null},buttons:[]}),a=function(){function t(e){o(this,t),this.options={},this.$wrapper=null,this.$popup=null,this.$customBtnWrapper=null,this.$previousActiveElement=document.activeElement||null,this.openTimeout=void 0,this.closeTimeout=void 0,this.resizeHandler=null;var n=i({},r);this.options=i(n,e),"function"==typeof this.options.events.create&&this.options.events.create()}return s(t,[{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$wrapper=this.createWrapper(),this.$popup=this.createPopup(t,e),this.$wrapper.appendChild(this.$popup),this.options.buttons.length>0&&(this.$wrapper.classList.add([this.options.prefixClass,"has-btn"].join("-")),this.$customBtnWrapper=this.createCustomBtnWrapper(),this.options.buttons.forEach(this.createCustomBtn.bind(this))),!0!==this.options.disableCloseBtn&&this.$popup.appendChild(this.createCloseBtn()),this.$popup.appendChild(this.createFocusTrap())}},{key:"createWrapper",value:function(){var t=this,e=document.createElement("div");return e.classList.add([this.options.prefixClass,"wrapper"].join("-")),e.classList.add([this.options.prefixClass,"animate",this.options.animation].join("-")),e.classList.toggle([this.options.prefixClass,"no-outline"].join("-"),!0===this.options.disableOutline),250!==this.options.animationDuration&&(e.style.transitionDuration=parseInt(this.options.animationDuration,10)/1e3+"s"),e.setAttribute("tabindex","0"),e.dndodKeydownHandler=function(e){e.stopPropagation(),27===e.keyCode&&t.close()},e.dndodClickHandler=function(e){e.stopPropagation(),t.close()},e.addEventListener("keydown",e.dndodKeydownHandler),e.addEventListener("click",e.dndodClickHandler),e}},{key:"createPopup",value:function(t,e){var n=!0===this.options.enableHTML?"innerHTML":"innerText",o=document.createElement("div");o.classList.add([this.options.prefixClass,"popup"].join("-")),o.classList.toggle([this.options.prefixClass,"text",this.options.textAlign].join("-"),"center"!==this.options.textAlign),250!==this.options.animationDuration&&(o.style.transitionDuration=parseInt(this.options.animationDuration,10)/1e3+"s"),o.setAttribute("tabindex","0"),o.dndodClickHandler=function(t){t.stopPropagation()},o.addEventListener("click",o.dndodClickHandler);var i=document.createElement("h1");i.classList.add([this.options.prefixClass,"heading"].join("-")),i[n]=""+e,o.appendChild(i);var s=document.createElement("p");return s.classList.add([this.options.prefixClass,"body"].join("-")),t instanceof HTMLElement?s.appendChild(t):s[n]=""+t,o.appendChild(s),o}},{key:"createCloseBtn",value:function(){var t=this,e=document.createElement("button");return e.innerHTML="&times;",e.setAttribute("title","Close this popup"),e.classList.add([this.options.prefixClass,"btn-close"].join("-")),e.dndodClickHandler=function(e){e.stopPropagation(),t.close()},e.addEventListener("click",e.dndodClickHandler),e}},{key:"createCustomBtnWrapper",value:function(){var t=document.createElement("div");return t.classList.add([this.options.prefixClass,"custom-btn-wrapper"].join("-")),t}},{key:"createCustomBtn",value:function(t,e,n){var o=this,i=document.createElement("button");i.innerHTML=t.text,i.classList.add([this.options.prefixClass,"btn-custom"].join("-")),t.type=t.type||"default",i.classList.add([this.options.prefixClass,"btn",t.type].join("-")),"function"==typeof t.handler&&(i.dndodClickHandler=function(e){e.stopPropagation(),t.handler(e,o)},i.addEventListener("click",i.dndodClickHandler)),this.$customBtnWrapper.appendChild(i),n[e].$button=i,e===n.length-1&&this.$popup.appendChild(this.$customBtnWrapper)}},{key:"createFocusTrap",value:function(){var t=this,e=document.createElement("span");return e.setAttribute("tabindex","0"),e.addEventListener("focus",function(e){e.stopPropagation(),t.$popup.focus()}),e}},{key:"watchScreenResize",value:function(){var t=this.$wrapper.classList,e=[this.options.prefixClass,"oversize"].join("-");this.$popup.offsetHeight>window.innerHeight-60?t.add(e):t.remove(e)}},{key:"removeAllEventHandler",value:function(){window.removeEventListener("resize",this.resizeHandler),this.$popup.removeEventListener("click",this.$popup.dndodClickHandler),this.$wrapper.removeEventListener("keydown",this.$wrapper.dndodKeydownHandler),this.$wrapper.removeEventListener("click",this.$wrapper.dndodClickHandler),this.options.buttons.forEach(function(t){t.$button.removeEventListener("click",t.$button.dndodClickHandler)})}},{key:"open",value:function(){var t=this;null!==this.$previousActiveElement&&this.$previousActiveElement.blur(),this.render(this.options.msg,this.options.title),"none"===this.options.animation&&this.$wrapper.classList.add([this.options.prefixClass,"status-show"].join("-")),document.body.appendChild(this.$wrapper),setTimeout(function(){"function"==typeof t.options.events.mount&&t.options.events.mount(),"none"!==t.options.animation&&t.$wrapper.classList.add([t.options.prefixClass,"status-show"].join("-"))}),"none"===this.options.animation?this.$popup.focus():this.openTimeout=setTimeout(function(){t.$popup.focus()},this.options.animationDuration),this.watchScreenResize(),this.resizeHandler=this.watchScreenResize.bind(this),window.addEventListener("resize",this.resizeHandler)}},{key:"close",value:function(){var t=this;"function"==typeof this.options.events.close&&this.options.events.close(),this.openTimeout&&clearTimeout(this.openTimeout),this.removeAllEventHandler(),"none"===this.options.animation?this.remove():(this.$wrapper.classList.remove([this.options.prefixClass,"status-show"].join("-")),this.closeTimeout=setTimeout(function(){t.remove()},this.options.animationDuration))}},{key:"remove",value:function(){var t=this;null!==this.$previousActiveElement&&this.$previousActiveElement.focus(),this.$wrapper.parentNode.removeChild(this.$wrapper),setTimeout(function(){"function"==typeof t.options.events.unmount&&t.options.events.unmount()})}}]),t}(),p=e.popup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};new a(t).open()},u=e.notice=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.msg=t,new a(e).open()},l=e.alert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.msg=t,e.buttons=[{text:"OK",type:"primary",handler:function(t,e){e.close()}}],new a(e).open()},c=e.confirm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.msg=t,n.buttons=[{text:"Cancel",handler:function(t,e){e.close()}},{text:"Continue",type:"primary",handler:function(t,n){n.close(),e()}}],new a(n).open()};e.default={popup:p,notice:u,alert:l,confirm:c}}])})}).call(e,n(0)(t))}])});